!function(){var e={1991:function(e,t){var r;!function(){"use strict";var l=function(){function e(){}function t(e,t){for(var r=t.length,l=0;l<r;++l)n(e,t[l])}e.prototype=Object.create(null);var r={}.hasOwnProperty,l=/\s+/;function n(e,n){if(n){var a=typeof n;"string"===a?function(e,t){for(var r=t.split(l),n=r.length,a=0;a<n;++a)e[r[a]]=!0}(e,n):Array.isArray(n)?t(e,n):"object"===a?function(e,t){if(t.toString===Object.prototype.toString||t.toString.toString().includes("[native code]"))for(var l in t)r.call(t,l)&&(e[l]=!!t[l]);else e[t.toString()]=!0}(e,n):"number"===a&&function(e,t){e[t]=!0}(e,n)}}return function(){for(var r=arguments.length,l=Array(r),n=0;n<r;n++)l[n]=arguments[n];var a=new e;t(a,l);var o=[];for(var i in a)a[i]&&o.push(i);return o.join(" ")}}();e.exports?(l.default=l,e.exports=l):void 0===(r=function(){return l}.apply(t,[]))||(e.exports=r)}()}},t={};function r(l){var n=t[l];if(void 0!==n)return n.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,r),a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var l in t)r.o(t,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.i18n,l=window.wp.hooks,n=window.wp.data,a=window.wp.components;function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},o.apply(this,arguments)}var i=r(1991),c=r.n(i);function s(t){const{label:r,help:l,className:n,children:a,...i}=t;return(0,e.createElement)("div",o({},i,{className:c()("lazyblocks-component-base-control",n)}),r?(0,e.createElement)("div",{className:"lazyblocks-component-base-control__label"},r):null,a,l?(0,e.createElement)("div",{className:"lazyblocks-component-base-control__help"},l):null)}const{controls:u={}}=window.lazyblocksConstructorData||window.lazyblocksGutenberg;function d(e,{className:t,...r}={}){const l=(n=e.data.type)&&u[n]?u[n]:!!u.undefined&&u.undefined;var n;return{label:!!l.restrictions.label_settings&&e.data.label,help:!!l.restrictions.help_settings&&e.data.help,className:c()(`lazyblocks-control lazyblocks-control-${e.data.type}`,t),"data-lazyblocks-control-name":e.data.name,...r}}var m=window.wp.blockEditor;const g=["image"];var p=(0,a.withNotices)((function(r){const{label:l,value:o,previewSize:i,allowInsertFromURL:c,help:s,noticeOperations:u,noticeUI:d,onChange:p=(()=>{})}=r,{mediaUpload:b,imagePreviewData:f}=(0,n.useSelect)((e=>{const{getMedia:t}=e("core");let r=!1;if(o&&Object.keys(o).length)if(o.id){const e=t(o.id)||!1;e&&(r={alt:e.alt_text,url:e.source_url},e.media_details&&e.media_details.sizes&&e.media_details.sizes[i]&&(r.url=e.media_details.sizes[i].source_url))}else o.url&&(r={url:o.url});return{mediaUpload:e("core/block-editor").getSettings().mediaUpload,imagePreviewData:r}}));return(0,e.createElement)(a.BaseControl,{id:l,label:l,help:s},(0,e.createElement)("div",{className:"lzb-gutenberg-image-wrap"},o&&Object.keys(o).length?"":(0,e.createElement)(m.MediaPlaceholder,{icon:(0,e.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),labels:{title:l,name:(0,t.__)("image","lazy-blocks")},onSelect:e=>{p(e)},onSelectURL:c?e=>{p({url:e})}:null,notices:d,accept:"image/*",allowedTypes:g,disableMaxUploadErrorMessages:!0,onError:e=>function(e){u.removeAllNotices(),u.createErrorNotice(e)}(e)}),o&&Object.keys(o).length?(0,e.createElement)("div",{className:"lzb-gutenberg-image"},(0,e.createElement)(a.DropZone,{onFilesDrop:e=>{b({allowedTypes:g,filesList:e,onFileChange:e=>{p(e[0])},onError:e=>{u.createErrorNotice(e)}})}}),(0,e.createElement)("div",{className:"lzb-gutenberg-image-button"},(0,e.createElement)(a.Button,{isSecondary:!0,isSmall:!0,onClick:()=>{p("")}},(0,t.__)("Remove Image","lazy-blocks"))),(0,e.createElement)("div",{className:"lzb-gutenberg-image-item",key:o.id||o.url},f.url?(0,e.createElement)("img",{src:f.url,alt:f.alt}):"")):""))}));function b(r){const{updateData:l,data:o}=r,{imageSizes:i,imageDimensions:c}=(0,n.useSelect)((e=>{const{getSettings:r}=e("core/block-editor"),l=r();return{imageSizes:l.imageSizes||[{name:(0,t.__)("Medium","lazy-blocks"),slug:"medium"}],imageDimensions:l.imageDimensions||{medium:{width:300,height:300}}}}));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.PanelBody,null,(0,e.createElement)(s,{id:"lazyblocks-control-image-insert-from-url",label:(0,t.__)("Allow insert from URL","lazy-blocks"),help:(0,t.__)("Will be added option that allow you to use custom URL to insert image","lazy-blocks")},(0,e.createElement)(a.ToggleControl,{id:"lazyblocks-control-image-insert-from-url",label:(0,t.__)("Yes","lazy-blocks"),checked:"true"===o.insert_from_url,onChange:e=>l({insert_from_url:e?"true":"false"})}))),(0,e.createElement)(a.PanelBody,null,(0,e.createElement)(a.SelectControl,{label:(0,t.__)("Preview Size","lazy-blocks"),options:i.map((e=>{let t=e.name;return c[e.slug]&&(t+=` (${c[e.slug].width} Ã— ${c[e.slug].height})`),{label:t,value:e.slug}})),value:o.preview_size||"medium",onChange:e=>l({preview_size:e})})))}(0,l.addFilter)("lzb.editor.control.image.render","lzb.editor",((t,r)=>(0,e.createElement)(s,{...d(r)},(0,e.createElement)(p,{previewSize:r.data.preview_size,allowInsertFromURL:"true"===r.data.insert_from_url,value:r.getValue(),onChange:e=>{const t=e?{alt:e.alt||"",title:e.title||"",caption:e.caption||"",description:e.description||"",id:e.id||"",link:e.link||"",url:e.url||"",sizes:e.sizes||""}:"";r.onChange(t)}})))),(0,l.addFilter)("lzb.editor.control.image.getValue","lzb.editor",(e=>{if("string"==typeof e)try{e=e.includes(":")?JSON.parse(decodeURI(e)):JSON.parse(decodeURIComponent(e))}catch(t){e=[]}return e})),(0,l.addFilter)("lzb.editor.control.image.updateValue","lzb.editor",(e=>(("object"==typeof e||Array.isArray(e))&&(e=encodeURI(JSON.stringify(e))),e))),(0,l.addFilter)("lzb.constructor.control.image.settings","lzb.constructor",((t,r)=>(0,e.createElement)(b,{...r})))}()}();