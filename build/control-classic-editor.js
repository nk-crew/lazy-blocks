!function(){var e={1991:function(e,t){var n;!function(){"use strict";var o=function(){function e(){}function t(e,t){for(var n=t.length,o=0;o<n;++o)r(e,t[o])}e.prototype=Object.create(null);var n={}.hasOwnProperty,o=/\s+/;function r(e,r){if(r){var a=typeof r;"string"===a?function(e,t){for(var n=t.split(o),r=n.length,a=0;a<r;++a)e[n[a]]=!0}(e,r):Array.isArray(r)?t(e,r):"object"===a?function(e,t){if(t.toString===Object.prototype.toString||t.toString.toString().includes("[native code]"))for(var o in t)n.call(t,o)&&(e[o]=!!t[o]);else e[t.toString()]=!0}(e,r):"number"===a&&function(e,t){e[t]=!0}(e,r)}}return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var a=new e;t(a,o);var c=[];for(var l in a)a[l]&&c.push(l);return c.join(" ")}}();e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.hooks,o=n(1991),r=n.n(o);function a(t){const{label:n,help:o,className:a,children:c,...l}=t;return(0,e.createElement)("div",{...l,className:r()("lazyblocks-component-base-control",a)},n?(0,e.createElement)("div",{className:"lazyblocks-component-base-control__label"},n):null,c,o?(0,e.createElement)("div",{className:"lazyblocks-component-base-control__help"},o):null)}const{controls:c={}}=window.lazyblocksConstructorData||window.lazyblocksGutenberg;function l(e,{className:t,...n}={}){const o=(a=e.data.type)&&c[a]?c[a]:!!c.undefined&&c.undefined;var a;return{label:!!o.restrictions.label_settings&&e.data.label,help:!!o.restrictions.help_settings&&e.data.help,className:r()(`lazyblocks-control lazyblocks-control-${e.data.type}`,t),"data-lazyblocks-control-name":e.data.name,...n}}var i=window.lodash,s=window.wp.i18n,d=window.wp.keycodes,u=window.wp.components;function m(t){let n="lzb-component-modal";return t.position&&(n=r()(n,`lzb-component-modal-position-${t.position}`)),t.size&&(n=r()(n,`lzb-component-modal-size-${t.size}`)),n=r()(n,t.className),(0,e.createElement)(u.Modal,{...t,className:n},t.children)}const{wp:p}=window;function f(t){const{editorId:n,content:o,onChange:r}=t,a=(0,e.useRef)(!1),[c,l]=(0,e.useState)(!1);(0,e.useEffect)((()=>{if(!a.current)return;const e=window.tinymce.get(`editor-${n}`),t=e?.getContent();t!==o&&null!==e&&e.setContent(o||"")}),[o,n,c]),(0,e.useEffect)((()=>{const{baseURL:e,suffix:t}=window.wpEditorL10n?window.wpEditorL10n.tinymce:window.tinymce;function c(e){let t;o&&e.on("loadContent",(()=>e.setContent(o))),e.on("blur",(()=>{t=e.selection.getBookmark(2,!0);const n=document.querySelector(".interface-interface-skeleton__content"),o=n.scrollTop;return e.once("focus",(()=>{t&&(e.selection.moveToBookmark(t),n.scrollTop!==o&&(n.scrollTop=o))})),!1})),e.on("mousedown touchstart",(()=>{t=null}));const n=(0,i.debounce)((()=>{const t=e.getContent();t!==e._lastChange&&(e._lastChange=t,r(t))}),250);e.on("Paste Change input Undo Redo",n),e.on("remove",n.cancel),e.on("keydown",(e=>{d.isKeyboardEvent.primary(e,"z")&&e.stopPropagation();const{altKey:t}=e;t&&e.keyCode===d.F10&&e.stopPropagation()})),e.on("init",(()=>{const t=e.getBody();t.ownerDocument.activeElement===t&&(t.blur(),e.focus())}))}function l(){const{settings:e}=window.wpEditorL10n?window.wpEditorL10n.tinymce:window.tinymce;p.oldEditor.initialize(`editor-${n}`,{tinymce:{...e,inline:!0,content_css:!1,fixed_toolbar_container:`#toolbar-${n}`,setup:c}})}function s(){"complete"===document.readyState&&l()}return a.current=!0,window.tinymce.EditorManager.overrideDefaults({base_url:e,suffix:t}),"complete"===document.readyState?l():document.addEventListener("readystatechange",s),()=>{document.removeEventListener("readystatechange",s),p.oldEditor.remove(`editor-${n}`)}}),[c]);const u=[(0,e.createElement)("div",{key:"toolbar",id:`toolbar-${n}`,className:"block-library-classic__toolbar",onClick:function(){const e=window.tinymce.get(`editor-${n}`);e&&e.focus()},"data-placeholder":(0,s.__)("Classic","lazy-blocks"),onKeyDown:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}}),(0,e.createElement)("div",{key:"editor",id:`editor-${n}`,className:"block-library-rich-text__tinymce"})];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("br",null),(0,e.createElement)("button",{id:`lazyblocks-settings-row-type-${n}`,onClick:()=>l(!c),className:"lzb-constructor-type-toggle"},(0,s.__)("Open Editor","lazy-blocks")),c?(0,e.createElement)(m,{title:(0,s.__)("Editor","lazy-blocks"),position:"top",onRequestClose:()=>l(!c),id:`modal-${n}`,className:"lazyblocks-control lazyblocks-control-classic_editor"},u||null):"")}(0,t.addFilter)("lzb.editor.control.classic_editor.render","lzb.editor",((t,n,o)=>{const r=`${n.placement}-${o.clientId}-${n.uniqueId}-${n.data.name}-${n.childIndex||0}`;return(0,e.createElement)(a,{key:r,...l(n)},(0,e.createElement)(f,{content:n.getValue(),onChange:e=>{n.onChange(e)},editorId:r}))}))}()}();