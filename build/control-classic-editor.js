(()=>{var e={1991:(e,t)=>{var n;!function(){"use strict";var o=function(){function e(){}function t(e,t){for(var n=t.length,o=0;o<n;++o)r(e,t[o])}e.prototype=Object.create(null);var n={}.hasOwnProperty,o=/\s+/;function r(e,r){if(r){var a=typeof r;"string"===a?function(e,t){for(var n=t.split(o),r=n.length,a=0;a<r;++a)e[n[a]]=!0}(e,r):Array.isArray(r)?t(e,r):"object"===a?function(e,t){if(t.toString===Object.prototype.toString||t.toString.toString().includes("[native code]"))for(var o in t)n.call(t,o)&&(e[o]=!!t[o]);else e[t.toString()]=!0}(e,r):"number"===a&&function(e,t){e[t]=!0}(e,r)}}return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var a=new e;t(a,o);var c=[];for(var i in a)a[i]&&c.push(i);return c.join(" ")}}();e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.apply(this,arguments)}const t=window.wp.element,o=window.wp.hooks;var r=n(1991),a=n.n(r);function c(n){const{label:o,help:r,className:c,children:i,...l}=n;return(0,t.createElement)("div",e({},l,{className:a()("lazyblocks-component-base-control",c)}),o?(0,t.createElement)("div",{className:"lazyblocks-component-base-control__label"},o):null,i,r?(0,t.createElement)("div",{className:"lazyblocks-component-base-control__help"},r):null)}const{controls:i={}}=window.lazyblocksConstructorData||window.lazyblocksGutenberg;const l=window.lodash,s=window.wp.i18n,d=window.wp.keycodes,{wp:u}=window;function p(e){const{editorId:n,content:o,onChange:r}=e,a=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{if(!a.current)return;const e=window.tinymce.get(`editor-${n}`),t=e?.getContent();t!==o&&e.setContent(o||"")}),[o,n]),(0,t.useEffect)((()=>{const{baseURL:e,suffix:t}=window.wpEditorL10n?window.wpEditorL10n.tinymce:window.tinymce;function c(e){let t;o&&e.on("loadContent",(()=>e.setContent(o))),e.on("blur",(()=>{t=e.selection.getBookmark(2,!0);const n=document.querySelector(".interface-interface-skeleton__content"),o=n.scrollTop;return e.once("focus",(()=>{t&&(e.selection.moveToBookmark(t),n.scrollTop!==o&&(n.scrollTop=o))})),!1})),e.on("mousedown touchstart",(()=>{t=null}));const n=(0,l.debounce)((()=>{const t=e.getContent();t!==e._lastChange&&(e._lastChange=t,r(t))}),250);e.on("Paste Change input Undo Redo",n),e.on("remove",n.cancel),e.on("keydown",(e=>{d.isKeyboardEvent.primary(e,"z")&&e.stopPropagation();const{altKey:t}=e;t&&e.keyCode===d.F10&&e.stopPropagation()})),e.on("init",(()=>{const t=e.getBody();t.ownerDocument.activeElement===t&&(t.blur(),e.focus())}))}function i(){const{settings:e}=window.wpEditorL10n?window.wpEditorL10n.tinymce:window.tinymce;u.oldEditor.initialize(`editor-${n}`,{tinymce:{...e,inline:!0,content_css:!1,fixed_toolbar_container:`#toolbar-${n}`,setup:c}})}function s(){"complete"===document.readyState&&i()}return a.current=!0,window.tinymce.EditorManager.overrideDefaults({base_url:e,suffix:t}),"complete"===document.readyState?i():document.addEventListener("readystatechange",s),()=>{document.removeEventListener("readystatechange",s),u.oldEditor.remove(`editor-${n}`)}}),[]),[(0,t.createElement)("div",{key:"toolbar",id:`toolbar-${n}`,className:"block-library-classic__toolbar",onClick:function(){const e=window.tinymce.get(`editor-${n}`);e&&e.focus()},"data-placeholder":(0,s.__)("Classic","lazy-blocks"),onKeyDown:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}}),(0,t.createElement)("div",{key:"editor",id:`editor-${n}`,className:"block-library-rich-text__tinymce"})]}(0,o.addFilter)("lzb.editor.control.classic_editor.render","lzb.editor",((n,o,r)=>{const l=`${o.placement}-${r.clientId}-${o.uniqueId}-${o.data.name}-${o.childIndex||0}`;return(0,t.createElement)(c,e({key:l},function(e,{className:t,...n}={}){const o=(r=e.data.type)&&i[r]?i[r]:!!i.undefined&&i.undefined;var r;return{label:!!o.restrictions.label_settings&&e.data.label,help:!!o.restrictions.help_settings&&e.data.help,className:a()(`lazyblocks-control lazyblocks-control-${e.data.type}`,t),"data-lazyblocks-control-name":e.data.name,...n}}(o)),(0,t.createElement)(p,{content:o.getValue(),onChange:e=>{o.onChange(e)},editorId:l}))}))})()})();