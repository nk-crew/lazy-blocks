!function(){var e={1991:function(e,t){var n;!function(){"use strict";var r=function(){function e(){}function t(e,t){for(var n=t.length,r=0;r<n;++r)l(e,t[r])}e.prototype=Object.create(null);var n={}.hasOwnProperty,r=/\s+/;function l(e,l){if(l){var a=typeof l;"string"===a?function(e,t){for(var n=t.split(r),l=n.length,a=0;a<l;++a)e[n[a]]=!0}(e,l):Array.isArray(l)?t(e,l):"object"===a?function(e,t){if(t.toString===Object.prototype.toString||t.toString.toString().includes("[native code]"))for(var r in t)n.call(t,r)&&(e[r]=!!t[r]);else e[t.toString()]=!0}(e,l):"number"===a&&function(e,t){e[t]=!0}(e,l)}}return function(){for(var n=arguments.length,r=Array(n),l=0;l<n;l++)r[l]=arguments[l];var a=new e;t(a,r);var o=[];for(var i in a)a[i]&&o.push(i);return o.join(" ")}}();e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var l=t[r];if(void 0!==l)return l.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.i18n,r=window.wp.hooks,l=window.wp.components,a=window.wp.data,o=window.wp.blockEditor;function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var c=n(1991),s=n.n(c);function d(t){const{label:n,help:r,className:l,children:a,...o}=t;return(0,e.createElement)("div",i({},o,{className:s()("lazyblocks-component-base-control",l)}),n?(0,e.createElement)("div",{className:"lazyblocks-component-base-control__label"},n):null,a,r?(0,e.createElement)("div",{className:"lazyblocks-component-base-control__help"},r):null)}const{controls:u={}}=window.lazyblocksConstructorData||window.lazyblocksGutenberg;const p=["image"];var m=(0,l.withNotices)((function(n){const{label:r,value:i,previewSize:c,noticeOperations:m,noticeUI:g,controlProps:b,onChange:y=(()=>{})}=n,{mediaUpload:f,imagesPreviewData:v}=(0,a.useSelect)((e=>{const{getMedia:t}=e("core"),n={};return i&&Object.keys(i).length&&i.forEach((e=>{if(!n[e.id]){const r=t(e.id)||!1;r&&(n[e.id]={alt:r.alt_text,url:r.source_url},r.media_details&&r.media_details.sizes&&r.media_details.sizes[c]&&(n[e.id].url=r.media_details.sizes[c].source_url))}})),{mediaUpload:e("core/block-editor").getSettings().mediaUpload,imagesPreviewData:n}}));return(0,e.createElement)(d,function(e,{className:t,...n}={}){const r=(l=e.data.type)&&u[l]?u[l]:!!u.undefined&&u.undefined;var l;return{label:!!r.restrictions.label_settings&&e.data.label,help:!!r.restrictions.help_settings&&e.data.help,className:s()(`lazyblocks-control lazyblocks-control-${e.data.type}`,t),"data-lazyblocks-control-name":e.data.name,...n}}(b),i&&Object.keys(i).length?null:(0,e.createElement)(o.MediaPlaceholder,{icon:"format-gallery",labels:{title:r,name:(0,t.__)("images","lazy-blocks")},onSelect:e=>{y(e)},notices:g,accept:"image/*",allowedTypes:p,disableMaxUploadErrorMessages:!0,multiple:!0,onError:e=>function(e){m.removeAllNotices(),m.createErrorNotice(e)}(e)}),i&&Object.keys(i).length?(0,e.createElement)(o.MediaUpload,{onSelect:e=>{y(e)},allowedTypes:p,multiple:!0,gallery:!0,value:i.map((e=>e.id)),render:({open:n})=>(0,e.createElement)("div",{className:"lzb-gutenberg-gallery",onClick:n,role:"presentation"},(0,e.createElement)(l.DropZone,{onFilesDrop:e=>{const t=i||[];f({allowedTypes:p,filesList:e,onFileChange:e=>{y(t.concat(e))},onError:e=>{m.createErrorNotice(e)}})}}),(0,e.createElement)("div",{className:"lzb-gutenberg-gallery-button"},(0,e.createElement)(l.Button,{isSecondary:!0,isSmall:!0},(0,t.__)("Edit Gallery","lazy-blocks"))),i.map((t=>(0,e.createElement)("div",{className:"lzb-gutenberg-gallery-item",key:t.id||t.url},v[t.id]&&v[t.id].url?(0,e.createElement)("img",{src:v[t.id].url,alt:v[t.id].alt}):""))))}):null)}));function g(n){const{updateData:r,data:o}=n,{imageSizes:i,imageDimensions:c}=(0,a.useSelect)((e=>{const{getSettings:n}=e("core/block-editor"),r=n();return{imageSizes:r.imageSizes||[{name:(0,t.__)("Medium","lazy-blocks"),slug:"medium"}],imageDimensions:r.imageDimensions||{medium:{width:300,height:300}}}}));return(0,e.createElement)(l.PanelBody,null,(0,e.createElement)(l.SelectControl,{label:(0,t.__)("Preview Size","lazy-blocks"),options:i.map((e=>{let t=e.name;return c[e.slug]&&(t+=` (${c[e.slug].width} Ã— ${c[e.slug].height})`),{label:t,value:e.slug}})),value:o.preview_size||"medium",onChange:e=>r({preview_size:e})}))}(0,r.addFilter)("lzb.editor.control.gallery.render","lzb.editor",((t,n)=>(0,e.createElement)(m,{label:n.data.label,help:n.data.help,previewSize:n.data.preview_size,value:n.getValue(),controlProps:n,onChange:e=>{const t=e.map((e=>({alt:e.alt||"",title:e.title||"",caption:e.caption||"",description:e.description||"",id:e.id||"",link:e.link||"",url:e.url||"",sizes:e.sizes||""})));n.onChange(t)}}))),(0,r.addFilter)("lzb.editor.control.gallery.getValue","lzb.editor",(e=>{if("string"==typeof e)try{e=e.includes(":")?JSON.parse(decodeURI(e)):JSON.parse(decodeURIComponent(e))}catch(t){e=[]}return e})),(0,r.addFilter)("lzb.editor.control.gallery.updateValue","lzb.editor",(e=>(("object"==typeof e||Array.isArray(e))&&(e=encodeURI(JSON.stringify(e))),e))),(0,r.addFilter)("lzb.constructor.control.gallery.settings","lzb.constructor",((t,n)=>(0,e.createElement)(g,{...n})))}()}();